<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        .chat-container {
            max-width: 600px;
            margin: 50px auto;
            background-color: #fff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            height: 500px;
        }
        .message-container {
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            flex-grow: 1;
            padding: 10px;
        }
        .message {
            padding: 10px;
            margin: 10px;
            border-radius: 5px;
            max-width: 70%;
            word-wrap: break-word;
            display: flex;
            align-items: center;
        }
        .sender-message {
            background-color: #e0e0e0;
            color: #000;
            align-self: flex-start;
        }
        .receiver-message {
            background-color: #4CAF50;
            color: #fff;
            align-self: flex-end;
        }
        .avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            margin-right: 10px;
        }
        .input-container {
            display: flex;
            padding: 10px;
            border-top: 1px solid #ddd;
        }
        .input-container input {
            flex-grow: 1;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-right: 10px;
        }
        .input-container button {
            padding: 8px 16px;
            background-color: #4CAF50;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .input-container button:hover {
            background-color: #3e8e41;
        }
        .message-text {
            flex-grow: 1;
        }
        .timestamp {
            font-size: 0.7em;
            margin-left: 10px;
            opacity: 0.7;
        }
        .typing-indicator {
            padding: 10px;
            margin: 10px;
            align-self: flex-start;
            color: #888;
            font-style: italic;
            display: none;
        }
    </style>
    <title>Interactive Chat UI using HTML, CSS, and JavaScript</title>
</head>
<body>
    <div class="chat-container">
        <div class="message-container" id="messageContainer">
            <div class="message sender-message">
                <img src="https://media.geeksforgeeks.org/wp-content/uploads/20220123013311/gfg.png" 
                    alt="Sender Avatar"
                    class="avatar">
                <div>
                    <div class="message-text">Hello there!</div>
                    <div class="timestamp">10:01 AM</div>
                </div>
            </div>
            <div class="message receiver-message">
                <img src="https://media.geeksforgeeks.org/wp-content/uploads/20210511160813/g4g.jpg"
                    alt="Receiver Avatar" 
                    class="avatar">
                <div>
                    <div class="message-text">Hi! How can I help you today?</div>
                    <div class="timestamp">10:02 AM</div>
                </div>
            </div>
            <div class="message sender-message">
                <img src="https://media.geeksforgeeks.org/wp-content/uploads/20220123013311/gfg.png" 
                    alt="Sender Avatar"
                    class="avatar">
                <div>
                    <div class="message-text">I have a question about your products.</div>
                    <div class="timestamp">10:03 AM</div>
                </div>
            </div>
            <div class="message receiver-message">
                <img src="https://media.geeksforgeeks.org/wp-content/uploads/20210511160813/g4g.jpg"
                    alt="Receiver Avatar" 
                    class="avatar">
                <div>
                    <div class="message-text">Sure, feel free to ask!</div>
                    <div class="timestamp">10:03 AM</div>
                </div>
            </div>
            <div class="typing-indicator" id="typingIndicator">Assistant is typing...</div>
        </div>
        <div class="input-container">
            <input type="text" id="messageInput" placeholder="Type your message...">
            <button id="sendButton">Send</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get DOM elements
            const messageContainer = document.getElementById('messageContainer');
            const messageInput = document.getElementById('messageInput');
            const sendButton = document.getElementById('sendButton');
            const typingIndicator = document.getElementById('typingIndicator');
            
            // Sample response messages for demo
            const botResponses = [
                "That's an interesting question! Let me think about it.",
                "I understand your concern. Here's what I suggest...",
                "Thank you for sharing that information with me!",
                "Could you please provide more details about your question?",
                "I'd be happy to help you with that!",
                "Let me check that for you and get back to you.",
                "Great question! The answer depends on several factors."
            ];
            
            // Sender and receiver avatar URLs
            const senderAvatar = "https://media.geeksforgeeks.org/wp-content/uploads/20220123013311/gfg.png";
            const receiverAvatar = "https://media.geeksforgeeks.org/wp-content/uploads/20210511160813/g4g.jpg";
            
            // Function to add a new message to the chat
            function addMessage(text, isSender) {
                // Create message elements
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${isSender ? 'sender-message' : 'receiver-message'}`;
                
                const avatar = document.createElement('img');
                avatar.src = isSender ? senderAvatar : receiverAvatar;
                avatar.alt = isSender ? "Sender Avatar" : "Receiver Avatar";
                avatar.className = "avatar";
                
                const contentDiv = document.createElement('div');
                
                const messageText = document.createElement('div');
                messageText.className = "message-text";
                messageText.textContent = text;
                
                const timestamp = document.createElement('div');
                timestamp.className = "timestamp";
                timestamp.textContent = getCurrentTime();
                
                // Assemble the message
                contentDiv.appendChild(messageText);
                contentDiv.appendChild(timestamp);
                messageDiv.appendChild(avatar);
                messageDiv.appendChild(contentDiv);
                
                // Add to container
                messageContainer.appendChild(messageDiv);
                
                // Scroll to the bottom
                scrollToBottom();
            }
            
            // Function to get current time in HH:MM AM/PM format
            function getCurrentTime() {
                const now = new Date();
                let hours = now.getHours();
                const minutes = now.getMinutes().toString().padStart(2, '0');
                const ampm = hours >= 12 ? 'PM' : 'AM';
                
                hours = hours % 12;
                hours = hours ? hours : 12; // Convert 0 to 12
                
                return `${hours}:${minutes} ${ampm}`;
            }
            
            // Function to scroll to the bottom of the chat
            function scrollToBottom() {
                messageContainer.scrollTop = messageContainer.scrollHeight;
            }
            
            // Function to simulate bot response
            function simulateBotResponse() {
                // Show typing indicator
                typingIndicator.style.display = 'block';
                scrollToBottom();
                
                // Random delay between 1-3 seconds
                const responseTime = Math.floor(Math.random() * 2000) + 1000;
                
                setTimeout(() => {
                    // Hide typing indicator
                    typingIndicator.style.display = 'none';
                    
                    // Get random response
                    const randomIndex = Math.floor(Math.random() * botResponses.length);
                    const responseText = botResponses[randomIndex];
                    
                    // Add bot message
                    addMessage(responseText, false);
                }, responseTime);
            }
            
            // Event listener for send button
            sendButton.addEventListener('click', sendMessage);
            
            // Event listener for Enter key
            messageInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
            
            // Send message function
            function sendMessage() {
                const message = messageInput.value.trim();
                
                if (message) {
                    // Add user message
                    addMessage(message, true);
                    
                    // Clear input
                    messageInput.value = '';
                    
                    // Simulate bot response
                    simulateBotResponse();
                }
            }
            
            // Initial scroll to bottom on page load
            scrollToBottom();
        });
    </script>
</body>
</html>